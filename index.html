<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="blog">
<meta property="og:url" content="https://xg4.github.io/index.html">
<meta property="og:site_name" content="blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="blog">





  
  
  <link rel="canonical" href="https://xg4.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2019/09/12/react-router/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/09/12/react-router/" class="post-title-link" itemprop="url">React Router v4</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-09-12 20:00:37" itemprop="dateCreated datePublished" datetime="2019-09-12T20:00:37+00:00">2019-09-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#react-router">react-router</a></li>
<li><a href="#react-router-dom">react-router-dom</a></li>
<li><a href="#hashrouterbrowserrouter">HashRouter/BrowserRouter</a><ul>
<li><a href="#hashrouter">HashRouter</a></li>
<li><a href="#browserrouter">BrowserRouter</a></li>
</ul>
</li>
<li><a href="#route">Route</a></li>
<li><a href="#linknavlink">Link/NavLink</a><ul>
<li><a href="#link">Link</a></li>
<li><a href="#navlink">NavLink</a></li>
</ul>
</li>
<li><a href="#switch">Switch</a></li>
</ul>
<h2 id="react-router"><a href="#react-router" class="headerlink" title="react-router"></a>react-router</h2><blockquote>
<p>提供了一些 router 的核心 api，包括 Router, Route, Switch 等，但是它没有提供 dom 操作进行跳转的 api</p>
</blockquote>
<h2 id="react-router-dom"><a href="#react-router-dom" class="headerlink" title="react-router-dom"></a>react-router-dom</h2><blockquote>
<p>提供了 BrowserRouter, Route, Link 等 api，可以通过 dom 的事件控制路由。例如点击一个按钮进行跳转，大多数情况下我们是这种情况，所以在开发过程中，我们更多是使用 react-router-dom</p>
</blockquote>
<h2 id="HashRouter-BrowserRouter"><a href="#HashRouter-BrowserRouter" class="headerlink" title="HashRouter/BrowserRouter"></a>HashRouter/BrowserRouter</h2><blockquote>
<p>都提供路由的基本功能，可以随意选取其中一个</p>
</blockquote>
<h3 id="HashRouter"><a href="#HashRouter" class="headerlink" title="HashRouter"></a>HashRouter</h3><blockquote>
<p>通过 hash 值来对路由进行控制。如果你使用 HashRouter，你的路由就会默认有#</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;HashRouter&gt;</span><br><span class="line">  &lt;Route exact path=<span class="string">"/"</span> component=&#123;Home&#125; /&gt;</span><br><span class="line">&lt;<span class="regexp">/HashRouter&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="BrowserRouter"><a href="#BrowserRouter" class="headerlink" title="BrowserRouter"></a>BrowserRouter</h3><ul>
<li><p>大部分情况下我们不需要这个#，因为它看起来很怪，这时我们就需要用到 BrowserRouter</p>
</li>
<li><p>它的原理是使用 HTML5 history API (pushState, replaceState, popState)来使你的内容随着 url 动态改变的</p>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;BrowserRouter basename=<span class="string">"/app"</span>&gt;</span><br><span class="line">  &lt;Route exact path=<span class="string">"/"</span> component=&#123;Home&#125; /&gt;</span><br><span class="line">&lt;<span class="regexp">/BrowserRouter&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Route"><a href="#Route" class="headerlink" title="Route"></a>Route</h2><ul>
<li><p>Route 是路由的一个原材料，它是控制路径对应显示的组件。我们经常用的是 exact、path 以及 component 属性</p>
</li>
<li><p>exact 控制匹配到/路径时不会再继续向下匹配，path 标识路由的路径，component 表示路径对应显示的组件。后面我们将结合 NavLink 完成一个很基本的路由使用。同时我们可以设置例如/user/:id 的方式来控制页面的显示，这需要配合 Link 或者 NavLink 配合使用。下面我们会提到</p>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Route exact path=<span class="string">"/"</span> component=&#123;Home&#125; /&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Link-NavLink"><a href="#Link-NavLink" class="headerlink" title="Link/NavLink"></a>Link/NavLink</h2><blockquote>
<p>两者都是可以控制路由跳转的，不同点是 NavLink 的 api 更多，更加满足你的需求</p>
</blockquote>
<h3 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h3><ul>
<li><p>主要 api 是 to，to 可以接受 string 或者一个 object，来控制 url</p>
</li>
<li><p>example</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link to=<span class="string">"/home"</span> /&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Link</span><br><span class="line">  to=&#123;&#123;</span><br><span class="line">    pathname: <span class="string">'/home'</span>,</span><br><span class="line">    search: <span class="string">'?sort=name'</span>,</span><br><span class="line">    hash: <span class="string">'#the-hash'</span>,</span><br><span class="line">    state: &#123; <span class="attr">x</span>: <span class="literal">true</span> &#125;</span><br><span class="line">  &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="NavLink"><a href="#NavLink" class="headerlink" title="NavLink"></a>NavLink</h3><ul>
<li><p>它可以为当前选中的路由设置类名、样式以及回调函数等</p>
</li>
<li><p>example</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink exact activeClassName=<span class="string">"active"</span> to=<span class="string">"/"</span>&gt;</span><br><span class="line">  home</span><br><span class="line">&lt;<span class="regexp">/NavLink&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>exact 用于严格匹配，匹配到/则不会继续向下匹配，to 则是控制跳转的路径，activeClassName 是选中状态的类名，我们可以为其添加样式。我们在/second 后面添加 1234 来想路由中传递信息，这结合了上面 Route 中的/second/:id</p>
</li>
<li><p>match 是在使用 router 之后被放入 props 中的一个属性，在 class 创建的组件中我们需要通过 this.props.match 来获取 match 之中的信息。match 中包含的信息如下</p>
</li>
</ul>
<h2 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h2><blockquote>
<p>常常会用来包裹 Route，它里面不能放其他元素，用来只显示一个路由</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2019/04/25/travis-deploy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/25/travis-deploy/" class="post-title-link" itemprop="url">Travis CI Deploy</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-25 18:05:42" itemprop="dateCreated datePublished" datetime="2019-04-25T18:05:42+00:00">2019-04-25</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><a href="https://github.com/xg4/DevOps-demos" target="_blank" rel="noopener">travis demo</a></p>
</blockquote>
<h2 id="安装-travis"><a href="#安装-travis" class="headerlink" title="安装 travis"></a>安装 travis</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install ruby</span><br><span class="line">$ apt-get install ruby-dev</span><br><span class="line">$ apt-get install build-essential</span><br><span class="line"><span class="comment"># gem update --system</span></span><br><span class="line"><span class="comment"># 下载很慢的话，切换镜像源</span></span><br><span class="line"><span class="comment"># gem sources --add https://gems.ruby-china.com/</span></span><br><span class="line">$ gem install travis</span><br></pre></td></tr></table></figure>
<h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ travis login</span><br><span class="line"></span><br><span class="line">We need your GitHub login to identify you.</span><br><span class="line">This information will not be sent to Travis CI, only to api.github.com.</span><br><span class="line">The password will not be displayed.</span><br><span class="line"></span><br><span class="line">Try running with --github-token or --auto <span class="keyword">if</span> you don<span class="string">'t want to enter your password anyway.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Username: xxx@xxx.xxx</span></span><br><span class="line"><span class="string">Password for xxx@xxx.xxx: ***</span></span><br><span class="line"><span class="string">Successfully logged in as xg4!</span></span><br></pre></td></tr></table></figure>
<h2 id="SSH-私钥进行加密处理"><a href="#SSH-私钥进行加密处理" class="headerlink" title="SSH 私钥进行加密处理"></a>SSH 私钥进行加密处理</h2><p>切换到 <code>.travis.yml</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成密钥,如果已存在无需生成</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"xingor4@gmail.com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用Travis加密 --add 会自动将信息生成到 .travis.yml</span></span><br><span class="line">$ travis encrypt-file ~/.ssh/id_rsa --add</span><br><span class="line"></span><br><span class="line">Detected repository as xxx/xxx, is this correct? |yes| yes</span><br><span class="line">encrypting ~/.ssh/id_rsa <span class="keyword">for</span> xxx/xxx</span><br><span class="line">storing result as id_rsa.enc</span><br><span class="line">storing secure env variables <span class="keyword">for</span> decryption</span><br><span class="line"></span><br><span class="line">Make sure to add id_rsa.enc to the git repository.</span><br><span class="line">Make sure not to add ~/.ssh/id_rsa to the git repository.</span><br><span class="line">Commit all changes to your .travis.yml.</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加信任关系</span></span><br><span class="line">ssh-copy-id -i deploy_rsa.pub &lt;ssh-user&gt;@&lt;deploy-host&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将修改添加到git中</span></span><br><span class="line">git add id_rsa.enc .travis.yml</span><br></pre></td></tr></table></figure>
<h2 id="设置权限"><a href="#设置权限" class="headerlink" title="设置权限"></a>设置权限</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .travis.yml</span></span><br><span class="line">before_install:</span><br><span class="line">  <span class="comment"># 自动生成</span></span><br><span class="line">  - openssl aes-256-cbc -K <span class="variable">$encrypted_d89376f3278d_key</span> -iv <span class="variable">$encrypted_d89376f3278d_iv</span></span><br><span class="line">    -<span class="keyword">in</span> id_rsa.enc -out ~/.ssh/id_rsa -d</span><br><span class="line">  <span class="comment"># 设置权限</span></span><br><span class="line">  - chmod 600 ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
<h2 id="主机验证"><a href="#主机验证" class="headerlink" title="主机验证"></a>主机验证</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .travis.yml</span></span><br><span class="line">addons:</span><br><span class="line">  ssh_known_hosts: your-ip</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2019/04/20/linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/20/linux/" class="post-title-link" itemprop="url">Linux</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-20 22:52:27" itemprop="dateCreated datePublished" datetime="2019-04-20T22:52:27+00:00">2019-04-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#ssh-copy-id">ssh-copy-id</a></li>
<li><a href="#scp">scp</a></li>
</ul>
<h2 id="ssh-copy-id"><a href="#ssh-copy-id" class="headerlink" title="ssh-copy-id"></a>ssh-copy-id</h2><blockquote>
<p>将本机主机的公钥复制到远程主机的 <code>authorized_keys</code> 文件上，<code>ssh-copy-id</code> 命令也会给远程主机的用户主目录（home）和 <code>~/.ssh</code> 和 <code>~/.ssh/authorized_keys</code> 设置合适的权限</p>
</blockquote>
<ul>
<li><p>语法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-copy-id [-i [identity_file]] [user@]machine</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数</p>
<ul>
<li><code>-i</code> : 指定公钥文件</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-copy-id user@server</span><br><span class="line">$ ssh-copy-id -i ~/.ssh/id_rsa.pub user@server</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h2><ul>
<li><p>语法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp [-1246BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file]</span><br><span class="line">[-l <span class="built_in">limit</span>] [-o ssh_option] [-P port] [-S program]</span><br><span class="line">[[user@]host1:]file1 [...] [[user@]host2:]file2</span><br></pre></td></tr></table></figure>
</li>
<li><p>简易写法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp [可选参数] file_source file_target</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数：</p>
<ul>
<li><p><code>-1</code> : 强制 scp 命令使用协议 ssh1</p>
</li>
<li><p><code>-2</code> : 强制 scp 命令使用协议 ssh2</p>
</li>
<li><p><code>-4</code> : 强制 scp 命令只使用 IPv4 寻址</p>
</li>
<li><p><code>-6</code> : 强制 scp 命令只使用 IPv6 寻址</p>
</li>
<li><p><code>-B</code> : 使用批处理模式（传输过程中不询问传输口令或短语）</p>
</li>
<li><p><code>-C</code> : 允许压缩。（将-C 标志传递给 ssh，从而打开压缩功能）</p>
</li>
<li><p><code>-p</code> : 保留原文件的修改时间，访问时间和访问权限</p>
</li>
<li><p><code>-q</code> : 不显示传输进度条</p>
</li>
<li><p><code>-r</code> : 递归复制整个目录</p>
</li>
<li><p><code>-v</code> : 详细方式显示输出。scp 和 ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题</p>
</li>
<li><p><code>-c</code> cipher : 以 cipher 将数据传输进行加密，这个选项将直接传递给 ssh</p>
</li>
<li><p><code>-F</code> ssh_config : 指定一个替代的 ssh 配置文件，此参数直接传递给 ssh</p>
</li>
<li><p><code>-i</code> identity_file : 从指定文件中读取传输时使用的密钥文件，此参数直接传递给 ssh</p>
</li>
<li><p><code>-l</code> limit : 限定用户所能使用的带宽，以 Kbit/s 为单位</p>
</li>
<li><p><code>-o</code> ssh_option : 如果习惯于使用 ssh_config(5)中的参数传递方式</p>
</li>
<li><p><code>-P</code> port : 注意是大写的 P, port 是指定数据传输用到的端口号</p>
</li>
<li><p><code>-S</code> program : 指定加密传输时所使用的程序。此程序必须能够理解 ssh(1)的选项</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ scp local_file remote_username@remote_ip:remote_folder</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ scp local_file remote_username@remote_ip:remote_file</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ scp local_file remote_ip:remote_folder</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ scp local_file remote_ip:remote_file</span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2019/04/20/git-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/20/git-2/" class="post-title-link" itemprop="url">Git 2</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-20 09:54:09" itemprop="dateCreated datePublished" datetime="2019-04-20T09:54:09+00:00">2019-04-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#submodule">submodule</a><ul>
<li><a href="#%E6%B7%BB%E5%8A%A0%E5%AD%90%E6%A8%A1%E5%9D%97">添加子模块</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E5%AD%90%E6%A8%A1%E5%9D%97">查看子模块</a></li>
<li><a href="#%E6%9B%B4%E6%96%B0%E5%AD%90%E6%A8%A1%E5%9D%97">更新子模块</a></li>
<li><a href="#%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%8F%8A%E5%AD%90%E6%A8%A1%E5%9D%97">克隆项目及子模块</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E5%AD%90%E6%A8%A1%E5%9D%97">修改子模块</a></li>
<li><a href="#%E5%88%A0%E9%99%A4%E5%AD%90%E6%A8%A1%E5%9D%97">删除子模块</a></li>
</ul>
</li>
<li><a href="#server">server</a></li>
<li><a href="#hooks">hooks</a></li>
</ul>
<h2 id="submodule"><a href="#submodule" class="headerlink" title="submodule"></a>submodule</h2><p><strong>子模块的操作默认都是 master 分支</strong></p>
<ul>
<li>更换子模块分支</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config -f .gitmodules submodule.&lt;submodule name&gt;.branch dev</span><br><span class="line">$ git submodule update --remote</span><br></pre></td></tr></table></figure>
<p><code>.gitmodules</code> 加了 <code>-f</code> 参数，修改提交后对所有用户有效</p>
<h3 id="添加子模块"><a href="#添加子模块" class="headerlink" title="添加子模块"></a>添加子模块</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git submodule add &lt;git repo&gt; themes/next</span><br></pre></td></tr></table></figure>
<p>添加子模块之后运行 <code>git status</code>， 可以看到目录有增加一个文件 <code>.gitmodules</code>，用来保存子模块的信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">Initial commit</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git rm --cached &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">    new file:   .gitmodules</span><br><span class="line">    new file:   theme/next</span><br></pre></td></tr></table></figure>
<h3 id="查看子模块"><a href="#查看子模块" class="headerlink" title="查看子模块"></a>查看子模块</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git submodule</span><br><span class="line">c2f33fc76b500770e266c1c16f028807967cd121 themes/next (v7.1.1-4-gc2f33fc)</span><br></pre></td></tr></table></figure>
<h3 id="更新子模块"><a href="#更新子模块" class="headerlink" title="更新子模块"></a>更新子模块</h3><ul>
<li><p>更新子模块到最新版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git submodule update</span><br></pre></td></tr></table></figure>
</li>
<li><p>更新子模块为远程仓库的最新版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git submodule update --remote</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="克隆项目及子模块"><a href="#克隆项目及子模块" class="headerlink" title="克隆项目及子模块"></a>克隆项目及子模块</h3><ol>
<li><p>先克隆仓库，再更新子模块</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 克隆项目</span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/xg4/blog</span><br><span class="line"><span class="comment"># 查看子模块</span></span><br><span class="line">$ git submodule</span><br><span class="line"><span class="comment"># 子模块前面 - ，说明子模块还未捡入</span></span><br><span class="line">-c2f33fc76b500770e266c1c16f028807967cd121</span><br><span class="line"><span class="comment"># 初始化子模块，初始化模块只需在克隆父项目后运行一次</span></span><br><span class="line">$ git submodule init</span><br><span class="line"><span class="comment"># 更新子模块</span></span><br><span class="line">$ git submodule update</span><br></pre></td></tr></table></figure>
</li>
<li><p>递归克隆整个项目</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/xg4/blog --recursive</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="修改子模块"><a href="#修改子模块" class="headerlink" title="修改子模块"></a>修改子模块</h3><p>在子模块中修改文件后，直接提交到远程仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">'update'</span></span><br><span class="line">$ git push origin HEAD:master</span><br></pre></td></tr></table></figure>
<h3 id="删除子模块"><a href="#删除子模块" class="headerlink" title="删除子模块"></a>删除子模块</h3><ol>
<li><p>删除子模块文件夹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git rm --cached theme/next</span><br><span class="line"><span class="comment"># 不带 --cached 参数直接删除文件</span></span><br><span class="line">$ rm -rf theme/next</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除 <code>.gitmodules</code> 文件中相关子模块信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[submodule <span class="string">"themes/next"</span>]</span><br><span class="line">path = themes/next</span><br><span class="line">url = https://github.com/theme-next/hexo-theme-next</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除 <code>.git/config</code> 中的相关子模块信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[submodule <span class="string">"themes/next"</span>]</span><br><span class="line"> active = <span class="literal">true</span></span><br><span class="line"> url = https://github.com/theme-next/hexo-theme-next</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除 <code>.git</code> 文件夹中的相关子模块文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rm -rf .git/modules/theme/next</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="server"><a href="#server" class="headerlink" title="server"></a>server</h2><ol>
<li><p>创建 git 用户，运行 git 服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加git账户</span></span><br><span class="line">$ adduser git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改git的密码</span></span><br><span class="line">$ passwd git</span><br></pre></td></tr></table></figure>
</li>
<li><p>禁止 git 用户的 shell 登录</p>
<blockquote>
<p>出于安全考虑，创建的 git 用户不允许登录 shell，找到 <code>/etc/passwd</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git:x:1000:1000::/home/git:/bin/bash</span><br><span class="line"><span class="comment"># 改为</span></span><br><span class="line">$ git:x:1000:1000::/home/git:/usr/bin/git-shell</span><br></pre></td></tr></table></figure>
</li>
<li><p>免密登录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /home/git/.ssh</span><br><span class="line">$ chmod 700 /home/git/.ssh</span><br><span class="line">$ touch /home/git/.ssh/authorized_keys</span><br><span class="line">$ chmod 600 /home/git/.ssh/authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果使用 sudo 创建，需要将 owner 改为 git</span></span><br><span class="line">$ chown -R git:git /home/git/</span><br></pre></td></tr></table></figure>
<p>编辑 <code>/home/git/.ssh/authorized_keys</code> 将客户端公钥放入</p>
</li>
<li><p>初始化 git 仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /xg4</span><br><span class="line">$ chown git:git /xg4/</span><br><span class="line">$ <span class="built_in">cd</span> /xg4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建空的git仓库</span></span><br><span class="line">$ git init --bare test.git</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> /xg4/test.git/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将仓库所属用户改为git</span></span><br><span class="line">$ chown -R git:git test.git</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="hooks"><a href="#hooks" class="headerlink" title="hooks"></a>hooks</h2><ul>
<li><p>client hooks: (commit hooks, email hooks, other hooks)</p>
<ul>
<li><p>commit hooks</p>
<ul>
<li><p>pre-commit</p>
</li>
<li><p>prepare-commit-msg</p>
</li>
<li><p>commit-msg</p>
</li>
<li><p>post-commit</p>
</li>
</ul>
</li>
<li><p>email hooks</p>
<ul>
<li><p>applypatch-msg</p>
</li>
<li><p>pre-applypatch</p>
</li>
<li><p>post-applypaych</p>
</li>
</ul>
</li>
<li><p>other hooks:</p>
<ul>
<li><p>pre-rebase</p>
</li>
<li><p>post-checkout</p>
</li>
<li><p>post-merge</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>server hooks:</p>
<ul>
<li><p>pre-receive</p>
</li>
<li><p>post-receive</p>
</li>
<li><p>update</p>
</li>
</ul>
</li>
</ul>
<ol>
<li><p>创建 git server 仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /xg4</span><br><span class="line">$ git init --bare test.git</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建工作目录 git 仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /var/www</span><br><span class="line">$ git <span class="built_in">clone</span> /xg4/test.git</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ git init</span><br><span class="line">$ git remote add origin /xg4/test.git</span><br></pre></td></tr></table></figure>
</li>
<li><p>改变所属用户和用户组，获得权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ chown -R git:git /xg4/test.git</span><br><span class="line">$ chown -R git:git /var/www/<span class="built_in">test</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>设置 git hooks</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /xg4/test.git/hooks/</span><br><span class="line">vim post-receive</span><br></pre></td></tr></table></figure>
<p>post-receive 文件内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">unset</span> GIT_DIR</span><br><span class="line"><span class="built_in">cd</span> /var/www/<span class="built_in">test</span></span><br><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 赋予 post-receive 文件可执行权限</span></span><br><span class="line">$ chmod +x .git/hooks/post-receive</span><br></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2019/04/02/npm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/02/npm/" class="post-title-link" itemprop="url">NPM</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-02 20:18:04" itemprop="dateCreated datePublished" datetime="2019-04-02T20:18:04+00:00">2019-04-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Initial"><a href="#Initial" class="headerlink" title="Initial"></a>Initial</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm config <span class="built_in">set</span> init.author.name xg4</span><br><span class="line">$ npm config <span class="built_in">set</span> init.author.email xingor4@gmail.com</span><br><span class="line">$ npm config <span class="built_in">set</span> init.license MIT</span><br></pre></td></tr></table></figure>
<h2 id="Release"><a href="#Release" class="headerlink" title="Release"></a>Release</h2><blockquote>
<p>使用 <code>npm version &lt;newVersion&gt;</code> 命令变更版本信息，自动 <code>git tag</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ npm version &lt;newVersion&gt;</span><br><span class="line"><span class="comment"># ===</span></span><br><span class="line"><span class="comment"># bump package.json version</span></span><br><span class="line">$ git commit -am <span class="string">"msg"</span></span><br><span class="line">$ git tag <span class="string">"version"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">npm version [&lt;newVersion&gt; | major | minor | patch | premajor | preminor | prepatch | prerelease [--preid=&lt;prerelease-id&gt;] | from-git]</span><br><span class="line"></span><br><span class="line">major：主版本号</span><br><span class="line"></span><br><span class="line">minor：次版本号</span><br><span class="line"></span><br><span class="line">patch：补丁号</span><br><span class="line"></span><br><span class="line">premajor：预备主版本</span><br><span class="line"></span><br><span class="line">prepatch：预备次版本</span><br><span class="line"></span><br><span class="line">prerelease：预发布版本</span><br></pre></td></tr></table></figure>
<p>若需要指定 commit 的信息，可以使用 -m 命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm version patch -m <span class="string">"build: release v%s"</span>  <span class="comment"># %s 会自动替换成版本号</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (tag: v0.0.1) build: release v0.0.1</span></span><br></pre></td></tr></table></figure>
<p><strong>需要注意的是，使用 <code>npm version &lt;newVersion&gt;</code> 命令，需要当前工作区为 clean 状态，否则会执行失败</strong></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2019/03/12/docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/12/docker/" class="post-title-link" itemprop="url">Docker</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-12 10:55:27" itemprop="dateCreated datePublished" datetime="2019-03-12T10:55:27+00:00">2019-03-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><a href="http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html" target="_blank" rel="noopener">Docker 入门教程 - 阮一峰</a></p>
</blockquote>
<ul>
<li><a href="#login--logout">login / logout</a></li>
<li><a href="#image">image</a><ul>
<li><a href="#images">images</a></li>
<li><a href="#pull">pull</a></li>
<li><a href="#search">search</a></li>
<li><a href="#build">build</a></li>
<li><a href="#rmi">rmi</a></li>
<li><a href="#tag">tag</a></li>
<li><a href="#push">push</a></li>
<li><a href="#save">save</a></li>
<li><a href="#load">load</a></li>
<li><a href="#import">import</a></li>
<li><a href="#history">history</a></li>
</ul>
</li>
<li><a href="#container">container</a><ul>
<li><a href="#ps">ps</a></li>
<li><a href="#runcreate">run/create</a></li>
<li><a href="#startstoprestart">start/stop/restart</a></li>
<li><a href="#kill">kill</a></li>
<li><a href="#rm">rm</a></li>
<li><a href="#exec">exec</a></li>
<li><a href="#pauseunpause">pause/unpause</a></li>
<li><a href="#logs">logs</a></li>
<li><a href="#inspect">inspect</a></li>
<li><a href="#port">port</a></li>
<li><a href="#export">export</a></li>
<li><a href="#cp">cp</a></li>
<li><a href="#commit">commit</a></li>
<li><a href="#diff">diff</a></li>
</ul>
</li>
</ul>
<h2 id="login-logout"><a href="#login-logout" class="headerlink" title="login / logout"></a>login / logout</h2><blockquote>
<p>登录/登出一个 Docker 镜像仓库，如果为指定镜像仓库地址，默认为官方仓库 Docker Hub</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker login [OPTIONS] [SERVER]</span><br><span class="line"></span><br><span class="line">$ docker <span class="built_in">logout</span> [OPTIONS] [SERVER]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-u</code> : 登录的用户名</p>
</li>
<li><p><code>-p</code> : 登录的密码</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker login -u xg4 -p xg4</span><br><span class="line"></span><br><span class="line">$ docker <span class="built_in">logout</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="image"><a href="#image" class="headerlink" title="image"></a>image</h2><blockquote>
<p>Docker 官方提供的 <code>image</code> 文件，都在 <code>library</code> 组里，所以是默认组，可以省略。<code>library/hello-world</code> 为官方 <code>image</code> 仓库，可以省略 <code>library</code></p>
</blockquote>
<h3 id="images"><a href="#images" class="headerlink" title="images"></a>images</h3><blockquote>
<p>查看本地镜像</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker images [OPTIONS] [REPOSITORY[:TAG]]</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ docker image ls</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-a</code> : 列出本地所有的镜像（含中间映像层，默认情况下，过滤掉中间映像层）</p>
</li>
<li><p><code>--digests</code> : 显示镜像的摘要信息</p>
</li>
<li><p><code>-f</code> : 显示满足条件的镜像</p>
</li>
<li><p><code>--format</code> : 指定返回值的模板文件</p>
</li>
<li><p><code>--no-trunc</code> : 显示完整的镜像信息</p>
</li>
<li><p><code>-q</code> : 只显示镜像 ID</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker images</span><br><span class="line"></span><br><span class="line">$ docker images ubuntu</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h3><blockquote>
<p>从镜像仓库中拉取或者更新指定镜像</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker pull [OPTIONS] NAME[:TAG|@DIGEST]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-a</code> : 拉取所有 tagged 镜像</p>
</li>
<li><p><code>--disable-content-trust</code> : 忽略镜像的校验,默认开启</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载最新镜像</span></span><br><span class="line">$ docker pull ubuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载 repository 为 ubuntu 的所有镜像</span></span><br><span class="line">$ docker pull -a ubuntu</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="search"><a href="#search" class="headerlink" title="search"></a>search</h3><blockquote>
<p>Docker Hub 中查找镜像</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker search [OPTIONS] imageName</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>--automated</code> : 只列出 automated build 类型的镜像</p>
</li>
<li><p><code>--no-trunc</code> : 显示完整的镜像描述</p>
</li>
<li><p><code>-s</code> : 列出收藏数不小于指定值的镜像</p>
</li>
</ul>
</li>
<li><p>显示的信息 :</p>
<ul>
<li><p>NAME : 镜像仓库源的名称</p>
</li>
<li><p>DESCRIPTION : 镜像的描述</p>
</li>
<li><p>OFFICIAL : 是否 docker 官方发布</p>
</li>
</ul>
</li>
</ul>
<h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><blockquote>
<p>使用 Dockerfile 创建镜像</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker build [OPTIONS] PATH | URL | -</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>--build-arg=[]</code> : 设置镜像创建时的变量</p>
</li>
<li><p><code>--cpu-shares</code> : 设置 cpu 使用权重</p>
</li>
<li><p><code>--cpu-period</code> : 限制 CPU CFS 周期</p>
</li>
<li><p><code>--cpu-quota</code> : 限制 CPU CFS 配额</p>
</li>
<li><p><code>--cpuset-cpus</code> : 指定使用的 CPU id</p>
</li>
<li><p><code>--cpuset-mems</code> : 指定使用的内存 id</p>
</li>
<li><p><code>--disable-content-trust</code> : 忽略校验，默认开启</p>
</li>
<li><p><code>-f</code> : 指定要使用的 Dockerfile 路径</p>
</li>
<li><p><code>--force-rm</code> : 设置镜像过程中删除中间容器</p>
</li>
<li><p><code>--isolation</code> : 使用容器隔离技术</p>
</li>
<li><p><code>--label=[]</code> : 设置镜像使用的元数据</p>
</li>
<li><p><code>-m</code> : 设置内存最大值</p>
</li>
<li><p><code>--memory-swap</code> : 设置 Swap 的最大值为内存+swap，”-1”表示不限 swap</p>
</li>
<li><p><code>--no-cache</code> : 创建镜像的过程不使用缓存</p>
</li>
<li><p><code>--pull</code> : 尝试去更新镜像的新版本</p>
</li>
<li><p><code>--quiet, -q</code> : 安静模式，成功后只输出镜像 ID</p>
</li>
<li><p><code>--rm</code> : 设置镜像成功后删除中间容器</p>
</li>
<li><p><code>--shm-size</code> : 设置/dev/shm 的大小，默认值是 64M</p>
</li>
<li><p><code>--ulimit</code> : Ulimit 配置</p>
</li>
<li><p><code>--tag, -t</code> : 指定要创建镜像的名字及标签，通常 name:tag 或者 name 格式；可以在一次构建中为一个镜像设置多个标签，标签默认为 <code>latest</code></p>
</li>
<li><p><code>--network</code> : 默认 default。在构建期间设置 RUN 指令的网络模式</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker build -t &lt;name&gt; .</span><br><span class="line"><span class="comment"># or 指定 image tag</span></span><br><span class="line">$ docker build -t &lt;name&gt;:&lt;tag&gt; .</span><br></pre></td></tr></table></figure>
<ul>
<li><code>.</code> : <code>Dockerfile</code> 文件所在的路径，可以指定 <code>Dockerfile</code> 的绝对路径</li>
</ul>
</li>
</ul>
<h3 id="rmi"><a href="#rmi" class="headerlink" title="rmi"></a>rmi</h3><blockquote>
<p>删除本地一个或多个镜像</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ docker rmi [OPTIONS] IMAGE [IMAGE...]</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ docker image rm [OPTIONS] IMAGE [IMAGE...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除本地所有镜像</span></span><br><span class="line">$ docker rmi $(docker images -q)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-f</code> : 强制删除</p>
</li>
<li><p><code>--no-prune</code> : 不移除该镜像的过程镜像，默认移除</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rmi -f ubuntu</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h3><blockquote>
<p>标记本地镜像，将其归入某一仓库</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker tag [OPTIONS] IMAGE[:TAG] [REGISTRYHOST/][USERNAME/]NAME[:TAG]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker tag ubuntu:12.0 xg4/ubuntu:v2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><blockquote>
<p>将本地的镜像上传到镜像仓库，要先登录到镜像仓库</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker push [OPTIONS] [USERNAME/]NAME[:TAG]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><code>--disable-content-trust</code> : 忽略镜像的校验，默认开启</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker push xg4/ubuntu:v2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="save"><a href="#save" class="headerlink" title="save"></a>save</h3><blockquote>
<p>将指定镜像保存成 tar 归档文件</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker save [OPTIONS] IMAGE [IMAGE...]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><code>-o</code> : 输出到的文件</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker save -o my_ubuntu_v2.tar xg4/ubuntu:v2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="load"><a href="#load" class="headerlink" title="load"></a>load</h3><blockquote>
<p>导入使用 docker save 命令导出的镜像</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker load [OPTIONS]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-i</code> : 指定导出的文件</p>
</li>
<li><p><code>-q</code> : 精简输出信息</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入镜像</span></span><br><span class="line">$ docker load -i ubuntu.tar</span><br><span class="line">$ docker load &lt; ubuntu.tar</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><blockquote>
<p>从归档文件 ( docker save ) 中创建镜像</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker import [OPTIONS] file|URL|- [REPOSITORY[:TAG]]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-c</code> : 应用 docker 指令创建镜像</p>
</li>
<li><p><code>-m</code> : 提交时的说明文字</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker import my_ubuntu_v3.tar xg4/ubuntu:v4</span><br><span class="line"></span><br><span class="line">$ docker images xg4/ubuntu:v4</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><blockquote>
<p>查看指定镜像的创建历史</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">history</span> [OPTIONS] IMAGE</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-H</code> : 以可读的格式打印镜像大小和日期，默认为 true</p>
</li>
<li><p><code>--no-trunc</code> : 显示完整的提交记录</p>
</li>
<li><p><code>-q</code> : 仅列出提交记录 ID</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">history</span> xg4/ubuntu:v3</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="container"><a href="#container" class="headerlink" title="container"></a>container</h2><h3 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h3><blockquote>
<p>列出容器</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps [OPTIONS]</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ docker container ls</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-a</code> : 显示所有的容器，包括未运行的</p>
</li>
<li><p><code>-f</code> : 根据条件过滤显示的内容</p>
</li>
<li><p><code>--format</code> : 指定返回值的模板文件</p>
</li>
<li><p><code>-l</code> : 显示最近创建的容器</p>
</li>
<li><p><code>-n</code> : 列出最近创建的 n 个容器</p>
</li>
<li><p><code>--no-trunc</code> : 不截断输出</p>
</li>
<li><p><code>-q</code> : 静默模式，只显示容器编号</p>
</li>
<li><p><code>-s</code> : 显示总的文件大小</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看正在运行的容器</span></span><br><span class="line">$ docker container ls</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看全部</span></span><br><span class="line">$ docker container ls -a</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ docker ps -a</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="run-create"><a href="#run-create" class="headerlink" title="run/create"></a>run/create</h3><blockquote>
<p><a href="https://docs.docker.com/engine/reference/commandline/run/" target="_blank" rel="noopener">docker run - docs</a><br>run: 创建一个新的容器并运行一个命令。本地不存在镜像时，会先从远程仓库拉取，完成之后启动<br>create: 创建一个新的容器但不启动它，用法同 <code>docker run</code></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-a stdin</code> : 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项</p>
</li>
<li><p><code>-d</code> : 后台运行容器，并返回容器 ID</p>
</li>
<li><p><code>-i</code> : 以交互模式运行容器，通常与 -t 同时使用</p>
</li>
<li><p><code>-p</code> : 端口映射，格式为：<strong>主机(宿主)端口:容器端口</strong></p>
</li>
<li><p><code>-t</code> : 为容器重新分配一个伪输入终端，通常与 -i 同时使用</p>
</li>
<li><p><code>--name=&quot;nginx-lb&quot;</code> : 为容器指定一个名称</p>
</li>
<li><p><code>--dns 8.8.8.8</code> : 指定容器使用的 DNS 服务器，默认和宿主一致</p>
</li>
<li><p><code>--dns-search example.com</code> : 指定容器 DNS 搜索域名，默认和宿主一致</p>
</li>
<li><p><code>-h &quot;mars&quot;</code> : 指定容器的 hostname</p>
</li>
<li><p><code>-e username=&quot;ritchie&quot;</code> : 设置环境变量</p>
</li>
<li><p><code>--env-file=[]</code> : 从指定文件读入环境变量</p>
</li>
<li><p><code>--cpuset=&quot;0-2&quot; or --cpuset=&quot;0,1,2&quot;</code> : 绑定容器到指定 CPU 运行</p>
</li>
<li><p><code>-m</code> : 设置容器使用内存最大值</p>
</li>
<li><p><code>--net=&quot;bridge&quot;</code> : 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型</p>
</li>
<li><p><code>--link=[]</code> : 添加链接到另一个容器</p>
</li>
<li><p><code>--expose=[]</code> : 开放一个端口或一组端口</p>
</li>
<li><p><code>--rm</code> : 退出时自动删除容器</p>
</li>
<li><p><code>--volume , -v</code> : 卷映射，格式为：<strong>主机(宿主)卷:容器卷</strong></p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用镜像 ubuntu:latest，不指定 image:tag 时，默认为 latest</span></span><br><span class="line">$ docker run ubuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># 后台模式启动一个容器，并将容器命名为 myUbuntu</span></span><br><span class="line">$ docker run --name myUbuntu -d ubuntu:latest</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以交互模式启动一个容器,在容器内执行/bin/bash命令，容器的 Shell 映射到当前的 Shell</span></span><br><span class="line">$ docker run -it ubuntu /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 容器的 3000 端口映射到本机的 8000 端口</span></span><br><span class="line">$ docker run -p 8000:3000 ubuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绑定容器的 8080 端口，并将其映射到本地主机 127.0.0.1 的 80 端口上</span></span><br><span class="line">$ docker run -p 127.0.0.1:80:8080/tcp ubuntu bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 主机的目录 /data 映射到容器的 /data</span></span><br><span class="line">$ docker run -v /data:/data ubuntu</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="start-stop-restart"><a href="#start-stop-restart" class="headerlink" title="start/stop/restart"></a>start/stop/restart</h3><blockquote>
<p>start: 启动一个或多个已经被停止的容器<br>stop: 停止一个运行中的容器<br>restart: 重启容器</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ docker start [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line"></span><br><span class="line">$ docker stop [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止全部容器</span></span><br><span class="line">$ docker stop $(docker ps -aq)</span><br><span class="line"></span><br><span class="line">$ docker restart [OPTIONS] CONTAINER [CONTAINER...]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动已被停止的容器</span></span><br><span class="line">$ docker start a2erd232d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止运行中的容器 myUbuntu</span></span><br><span class="line">$ docker stop myUbuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启容器</span></span><br><span class="line">$ docker restart a2erd232d</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h3><blockquote>
<p>杀掉一个运行中的容器。依然会占据硬盘空间</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">kill</span> [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 杀掉全部容器</span></span><br><span class="line">$ docker <span class="built_in">kill</span> $(docker ps -aq)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><code>-s</code> : 向容器发送一个信号</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">kill</span> -s KILL_YOU myUbuntu</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong><code>kill</code> 会立即结束，<code>stop</code> 进行收尾清理工作，再结束</strong></p>
<h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><blockquote>
<p>删除一个或多少容器</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker rm [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除全部容器</span></span><br><span class="line">$ docker rm $(docker ps -aq)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-f</code> : 通过 SIGKILL 信号强制删除一个运行中的容器</p>
</li>
<li><p><code>-l</code> : 移除容器间的网络连接，而非容器本身</p>
</li>
<li><p><code>-v</code> : -v 删除与容器关联的卷</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 强制删除容器db01、db02</span></span><br><span class="line">$ docker rm -f db01 db02</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除容器nginx01对容器db01的连接，连接名db</span></span><br><span class="line">$ docker rm -l db</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除容器nginx01,并删除容器挂载的数据卷</span></span><br><span class="line">$ docker rm -v nginx01</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h3><blockquote>
<p>在运行的容器中执行命令</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">exec</span> [OPTIONS] CONTAINER COMMAND [ARG...]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-d</code> : 分离模式: 在后台运行</p>
</li>
<li><p><code>-i</code> : 即使没有附加也保持 STDIN 打开</p>
</li>
<li><p><code>-t</code> : 分配一个伪终端</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在容器 9df70f 中以交互模式执行容器内 /root/shell.sh 脚本</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it 9df70f /bin/sh /root/shell.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在容器 myUbuntu 中开启一个交互模式的终端</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it myUbuntu /bin/bash</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="pause-unpause"><a href="#pause-unpause" class="headerlink" title="pause/unpause"></a>pause/unpause</h3><blockquote>
<p>pause : 暂停容器中所有的进程<br>unpause : 恢复容器中所有的进程</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker pause [OPTIONS] CONTAINER [CONTAINER...]</span><br><span class="line">$ docker unpause [OPTIONS] CONTAINER [CONTAINER...]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 暂停数据库容器 db01 提供服务</span></span><br><span class="line">$ docker pause db01</span><br><span class="line"></span><br><span class="line"><span class="comment"># 恢复数据库容器 db01 提供服务</span></span><br><span class="line">$ docker unpause db01</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="logs"><a href="#logs" class="headerlink" title="logs"></a>logs</h3><blockquote>
<p>获取容器的日志</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker logs [OPTIONS] CONTAINER</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-f</code> : 跟踪日志输出</p>
</li>
<li><p><code>--since</code> : 显示某个开始时间的所有日志</p>
</li>
<li><p><code>-t</code> : 显示时间戳</p>
</li>
<li><p><code>--tail</code> : 仅列出最新 N 条容器日志</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 跟踪查看容器 myUbuntu 的日志输出</span></span><br><span class="line">$ docker logs -f myUbuntu</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看容器 myUbuntu 从2019年4月1日后的最新10条日志</span></span><br><span class="line">$ docker logs --since=<span class="string">"2019-04-01"</span> --tail=10 myUbuntu</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="inspect"><a href="#inspect" class="headerlink" title="inspect"></a>inspect</h3><blockquote>
<p>获取容器/镜像的元数据</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker inspect [OPTIONS] NAME|ID [NAME|ID...]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-f</code> : 指定返回值的模板文件</p>
</li>
<li><p><code>-s</code> : 显示总的文件大小</p>
</li>
<li><p><code>--type</code> : 为指定类型返回 JSON</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取镜像 ubuntu:latest 的元信息</span></span><br><span class="line">$ docker inspect ubuntu:latest</span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="string">"Id"</span>: <span class="string">"sha256:ae9a045f866bbc2553087f6e42bfc16074a74f"</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取正在运行的容器 myUbuntu 的 IP</span></span><br><span class="line">$ docker inspect --format=<span class="string">'&#123;&#123;range .NetworkSettings.Networks&#125;&#125;&#123;&#123;.IPAddress&#125;&#125;&#123;&#123;end&#125;&#125;'</span> myUbuntu</span><br><span class="line">172.17.0.3</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="port"><a href="#port" class="headerlink" title="port"></a>port</h3><blockquote>
<p>列出指定的容器的端口映射，或者查找将 PRIVATE_PORT NAT 到面向公众的端口</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker port [OPTIONS] CONTAINER [PRIVATE_PORT[/PROTO]]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker port myUbuntu</span><br><span class="line">3000/tcp -&gt; 0.0.0.0:3000</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="export"><a href="#export" class="headerlink" title="export"></a>export</h3><blockquote>
<p>将文件系统作为一个 tar 归档文件导出到 STDOUT</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker <span class="built_in">export</span> [OPTIONS] CONTAINER</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><code>-o</code> : 将输入内容写到文件</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 id 为 66bbc25530 的容器按日期保存为 tar 文件</span></span><br><span class="line">$ docker <span class="built_in">export</span> -o logs-`date +%Y%m%d`.tar 66bbc25530</span><br><span class="line">$ ls logs-`date +%Y%m%d`.tar</span><br><span class="line">logs-20190411.tar</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><blockquote>
<p>用于容器与主机之间的数据拷贝</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-</span><br><span class="line"></span><br><span class="line">$ docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><code>-L</code> : 保持源目标中的链接</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将主机 ~/Desktop/data 目录拷贝到容器 2ae6iu3w 的 /data 目录下</span></span><br><span class="line">$ docker cp ~/Desktop/data 2ae6iu3w:/data/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将主机 ~/Desktop/data 目录拷贝到容器 2ae6iu3w 中，目录重命名为 data</span></span><br><span class="line">$ docker cp ~/Desktop/data 2ae6iu3w:/data</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将容器 2ae6iu3w 的 /data 目录拷贝到主机的当前目录中</span></span><br><span class="line">$ docker cp  96f7f14e99ab:/data .</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h3><blockquote>
<p>从容器创建一个新的镜像</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>OPTIONS :</p>
<ul>
<li><p><code>-a</code> : 提交的镜像作者</p>
</li>
<li><p><code>-c</code> : 使用 Dockerfile 指令来创建镜像</p>
</li>
<li><p><code>-m</code> : 提交时的说明文字</p>
</li>
<li><p><code>-p</code> : 在 commit 时，将容器暂停</p>
</li>
</ul>
</li>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it ubuntu /bin/bash</span><br><span class="line"><span class="comment"># in container</span></span><br><span class="line">$ root@e18edb10161:/<span class="comment"># apt update</span></span><br><span class="line">$ root@e18edb10161:/<span class="comment"># exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将容器 e18edb10161 保存为新的镜像，添加提交人信息和说明信息，指定目标镜像的名字和版本号为 ubuntu:v2</span></span><br><span class="line">$ docker commit -m=<span class="string">'update'</span> -a=<span class="string">'xg4'</span> e18edb10161 ubuntu:v2</span><br><span class="line">$ sha256:70bf1840fd7c0d2d8ef0a42a817eb29f854c1af8f7c59fc03ac7bdee9545aff8</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h3><blockquote>
<p>检查容器里文件结构的更改</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker diff [OPTIONS] CONTAINER</span><br></pre></td></tr></table></figure>
<ul>
<li><p>example</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker diff myUbuntu</span><br><span class="line">A /logs</span><br><span class="line">A /xg4</span><br><span class="line">A /var/www/index.html</span><br><span class="line">C /tmp</span><br></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2018/12/11/html-head/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/11/html-head/" class="post-title-link" itemprop="url">HTML - head</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-11 18:24:24" itemprop="dateCreated datePublished" datetime="2018-12-11T18:24:24+00:00">2018-12-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Meta"><a href="#Meta" class="headerlink" title="Meta"></a>Meta</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- SEO --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"keywords"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"description"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"author"</span> <span class="attr">content</span>=<span class="string">"xg4, xingor4@gmail.com"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- mobile --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">  <span class="attr">name</span>=<span class="string">"viewport"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, shrink-to-fit=no"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"theme-color"</span> <span class="attr">content</span>=<span class="string">"#000000"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- chromium --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge,chrome=1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"renderer"</span> <span class="attr">content</span>=<span class="string">"webkit|ie-comp|ie-stand"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"force-rendering"</span> <span class="attr">content</span>=<span class="string">"webkit|ie-comp|ie-stand"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- full screen --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"full-screen"</span> <span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"x5-fullscreen"</span> <span class="attr">content</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- robots --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"robots"</span> <span class="attr">content</span>=<span class="string">"index, about"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- orientation --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"screen-orientation"</span> <span class="attr">content</span>=<span class="string">"portrait"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"x5-orientation"</span> <span class="attr">content</span>=<span class="string">"portrait"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 禁止识别电话号码和邮箱 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no, email=no"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- web app --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"browsermode"</span> <span class="attr">content</span>=<span class="string">"application"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"x5-page-mode"</span> <span class="attr">content</span>=<span class="string">"app"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- status bar style --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-status-bar-style"</span> <span class="attr">content</span>=<span class="string">"default"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- add to home screen of title --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-title"</span> <span class="attr">content</span>=<span class="string">"title"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- windows phone tap highlight --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"msapplication-tap-highlight"</span> <span class="attr">content</span>=<span class="string">"no"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- old device --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"MobileOptimized"</span> <span class="attr">content</span>=<span class="string">"320"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"HandheldFriendly"</span> <span class="attr">content</span>=<span class="string">"true"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- icon --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">  <span class="attr">rel</span>=<span class="string">"apple-touch-icon-precomposed"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">sizes</span>=<span class="string">"57x57"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">href</span>=<span class="string">"/icons/apple-touch-icon.png"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">  <span class="attr">rel</span>=<span class="string">"apple-touch-icon-precomposed"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">sizes</span>=<span class="string">"72x72"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">href</span>=<span class="string">"/icons/apple-touch-icon.png"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">  <span class="attr">rel</span>=<span class="string">"apple-touch-icon-precomposed"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">sizes</span>=<span class="string">"114x114"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">href</span>=<span class="string">"/icons/apple-touch-icon.png"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">  <span class="attr">rel</span>=<span class="string">"apple-touch-icon-precomposed"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">sizes</span>=<span class="string">"144x144"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">href</span>=<span class="string">"/icons/apple-touch-icon.png"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- PWA --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"manifest"</span> <span class="attr">href</span>=<span class="string">"/manifest.json"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- favicon --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"/favicon.ico"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2018/09/18/restful-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/18/restful-api/" class="post-title-link" itemprop="url">RESTful API</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-18 14:36:06" itemprop="dateCreated datePublished" datetime="2018-09-18T14:36:06+00:00">2018-09-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><a href="http://www.ruanyifeng.com/blog/2011/09/restful.html" target="_blank" rel="noopener">理解 RESTful 架构 - 阮一峰</a><br><a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html" target="_blank" rel="noopener">RESTful API 设计指南 - 阮一峰</a><br><a href="http://www.ruanyifeng.com/blog/2018/10/restful-api-best-practices.html" target="_blank" rel="noopener">RESTful API 最佳实践 - 阮一峰</a></p>
</blockquote>
<h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#http-methods">HTTP Methods</a></li>
<li><a href="#http-status-codes">HTTP Status Codes</a><ul>
<li><a href="#example">example</a></li>
</ul>
</li>
</ul>
<h2 id="HTTP-Methods"><a href="#HTTP-Methods" class="headerlink" title="HTTP Methods"></a>HTTP Methods</h2><ul>
<li><p>GET (SELECT) : 读取</p>
</li>
<li><p>POST (CREATE) : 新建</p>
</li>
<li><p>PUT (UPDATE) : 更新</p>
</li>
<li><p>PATCH (UPDATE) : 部分更新</p>
</li>
<li><p>DELETE (DELETE) : 删除</p>
</li>
</ul>
<p>不常用的 http methods</p>
<ul>
<li><p>HEAD : 获取资源的元数据</p>
</li>
<li><p>OPTIONS : 获取信息，关于资源的哪些属性是客户端可以改变</p>
</li>
</ul>
<h2 id="HTTP-Status-Codes"><a href="#HTTP-Status-Codes" class="headerlink" title="HTTP Status Codes"></a>HTTP Status Codes</h2><blockquote>
<p><a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank" rel="noopener">HTTP Status Codes - wikipedia</a></p>
</blockquote>
<ul>
<li><p>1xx : 相关信息</p>
</li>
<li><p>2xx : 操作成功</p>
</li>
<li><p>3xx : 重定向</p>
</li>
<li><p>4xx : 客户端错误</p>
</li>
<li><p>5xx : 服务器错误</p>
</li>
</ul>
<h3 id="example"><a href="#example" class="headerlink" title="example"></a>example</h3><ul>
<li><p><code>200 OK</code> - [GET/PUT/PATCH] : 获取或更新数据成功</p>
</li>
<li><p><code>201 Created</code> - [POST] : 新建数据成功</p>
</li>
<li><p><code>202 Accepted</code> - [*] : 表示服务器已经收到请求，但是还未处理，未来再进行处理（异步操作）</p>
</li>
<li><p><code>204 No Content</code> - [DELETE] : 删除数据成功</p>
</li>
<li><p><code>400 Bad Request</code> - [POST/PUT/PATCH] : 服务器不理解客户端的请求，未做任何处理</p>
</li>
<li><p><code>401 Unauthorized</code> : 用户未提供身份验证凭据，或者没有通过身份验证（没有权限）</p>
</li>
<li><p><code>403 Forbidden</code> : 用户通过了身份验证，但是不具有访问资源所需的权限（权限不足）</p>
</li>
<li><p><code>404 Not Found</code> : 所请求的资源不存在，或不可用</p>
</li>
<li><p><code>405 Method Not Allowed</code> : 用户已经通过身份验证，但是所用的 HTTP 方法不在他的权限之内</p>
</li>
<li><p><code>406 Not Acceptable</code> - [GET] : 服务器没有请求头（Accept headers）中指定的资源格式</p>
</li>
<li><p><code>410 Gone</code> - [GET] : 所请求的资源已从这个地址转移，不再可用</p>
</li>
<li><p><code>415 Unsupported Media Type</code> : 客户端发送的资源，不是服务器指定的资源格式（与 406 相反）</p>
</li>
<li><p><code>422 Unprocessable Entity</code> - [POST/PUT/PATCH] : 请求格式正确，但由于语义错误而无法遵循</p>
</li>
<li><p><code>500 Internal Server Error</code> : 服务器错误</p>
</li>
<li><p><code>503 Service Unavailable</code> : 服务器无法处理请求，一般用于网站维护状态</p>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2018/09/13/git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/13/git/" class="post-title-link" itemprop="url">Git</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-13 22:42:20" itemprop="dateCreated datePublished" datetime="2018-09-13T22:42:20+00:00">2018-09-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#ssh">ssh</a></li>
<li><a href="#config">config</a><ul>
<li><a href="#alias">alias</a></li>
<li><a href="#log">log</a></li>
</ul>
</li>
<li><a href="#initial">initial</a></li>
<li><a href="#branch">branch</a></li>
<li><a href="#tag">tag</a></li>
<li><a href="#reset">reset</a><ul>
<li><a href="#checkout">checkout</a></li>
</ul>
</li>
<li><a href="#stash">stash</a></li>
<li><a href="#clone">clone</a></li>
<li><a href="#push">push</a></li>
<li><a href="#remote">remote</a></li>
<li><a href="#ignore">ignore</a></li>
<li><a href="#remove">remove</a></li>
</ul>
<h2 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"xingor4@gmail.com"</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>用户主目录下找到 <code>.ssh</code> 目录 (<code>~/.ssh</code>)，id_rsa 和 id_rsa.pub 两个文件</p>
</li>
<li><p>id_rsa 是私钥，不能泄露出去，id_rsa.pub 是公钥，可以放心地告诉任何人</p>
</li>
<li><p>GitHub “Add SSH Key” 粘贴 id_rsa.pub 文件的内容</p>
</li>
<li><p><strong>检验是否连接上 GitHub <code>$ ssh git@github.com</code></strong></p>
</li>
</ul>
<h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">"xg4"</span></span><br><span class="line">$ git config --global user.email <span class="string">"xingor4@gmail.com"</span></span><br></pre></td></tr></table></figure>
<h3 id="alias"><a href="#alias" class="headerlink" title="alias"></a>alias</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.st status</span><br><span class="line">$ git config --global alias.ck checkout</span><br><span class="line">$ git config --global alias.cm commit</span><br><span class="line">$ git config --global alias.br branch</span><br></pre></td></tr></table></figure>
<h3 id="log"><a href="#log" class="headerlink" title="log"></a>log</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示最后一次提交信息</span></span><br><span class="line">$ git config --global alias.last <span class="string">'log -1'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># format log</span></span><br><span class="line">$ git config --global alias.lg <span class="string">"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"</span></span><br></pre></td></tr></table></figure>
<h2 id="initial"><a href="#initial" class="headerlink" title="initial"></a>initial</h2><ul>
<li><p><code>$ git init</code> : 初始化 git 仓库</p>
</li>
<li><p><code>$ git add &lt;filename&gt;</code> : 添加文件到暂存区</p>
</li>
<li><p><code>$ git add .</code> : 递归添加整个目录到暂存区</p>
</li>
<li><p><code>$ git commit -m &#39;msg&#39;</code> : 提交暂存区内容到仓库</p>
</li>
<li><p><code>$ git status</code> : 查看工作区的状态</p>
</li>
<li><p><code>$ git diff</code> : 查看修改内容，比较差异</p>
</li>
</ul>
<h2 id="branch"><a href="#branch" class="headerlink" title="branch"></a>branch</h2><ul>
<li><p><code>$ git branch</code> : 查看分支</p>
</li>
<li><p><code>$ git branch &lt;name&gt;</code> : 创建分支</p>
</li>
<li><p><code>$ git branch --orphan</code> : 创建空分支</p>
</li>
<li><p><code>$ git checkout &lt;name&gt;</code> : 切换分支</p>
</li>
<li><p>创建并切换分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b &lt;name&gt;</span><br><span class="line"><span class="comment"># ===</span></span><br><span class="line">$ git branch &lt;name&gt;</span><br><span class="line">$ git checkout &lt;name&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>$ git merge &lt;name&gt;</code> : 合并 <name> 分支到当前分支</name></p>
</li>
<li><p>删除分支：</p>
<p><code>$ git branch -d &lt;name&gt;</code> : 被删除的分支没有合并时，需强制删除</p>
<p><code>$ git branch -D &lt;name&gt;</code> : 强制删除</p>
</li>
<li><p><code>$ git log --graph</code> : 查看分支合并图</p>
</li>
</ul>
<h2 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h2><blockquote>
<p>Git 的标签就像是版本库的快照，实质上它就是指向某个 commit 的指针（跟分支很像对不对？但是分支可以移动，标签不能移动），所以，创建和删除标签都是瞬间完成的。<br>作用在于将来无论什么时候，取某个标签的版本，就是把那个打标签的时刻的历史版本取出来。</p>
</blockquote>
<ul>
<li><p><code>$ git tag &lt;name&gt;</code> : 创建一个新标签</p>
<ul>
<li>标签默认为 HEAD，也可以指定一个 commit id</li>
</ul>
</li>
<li><p><code>$ git tag</code> : 查看所有标签</p>
<ul>
<li>标签不是按时间顺序列出，而是按字母排序的，用 <code>$ git show &lt;name&gt;</code> 查看标签信息</li>
</ul>
</li>
<li><p><code>$ git tag -a &lt;name&gt; -m &#39;msg&#39;</code> : 指定标签信息，<code>-a</code> 指定标签名， <code>-m</code> 指定说明文字</p>
</li>
<li><p><code>$ git tag -s &lt;name&gt; -m &#39;msg&#39;</code> : 用 PGP 签名标签，<code>-s</code> 用私钥签名一个标签</p>
</li>
<li><p><code>$ git push origin &lt;name&gt;</code> : 推送一个本地标签</p>
</li>
<li><p><code>$ git push origin --tags</code> : 推送全部未推送过的本地标签</p>
</li>
<li><p><code>$ git tag -d &lt;name&gt;</code> : 删除一个本地标签</p>
</li>
<li><p><code>$ git push origin :refs/tags/&lt;name&gt;</code> : 删除远程标签</p>
</li>
<li><p>推送分支和标签</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git push &amp;&amp; git push --tags</span><br><span class="line"><span class="comment"># ===</span></span><br><span class="line">$ git push --follow-tags</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h2><ul>
<li><p><code>$ git log</code> : 显示从最近到最远的提交日志</p>
<ul>
<li><strong>按 Q, 退出 log</strong></li>
</ul>
</li>
<li><p><code>$ git log --pretty=oneline</code> : 显示简要版的提交日志</p>
</li>
<li><p><code>$ git reset --hard HEAD^</code> : 返回上一个版本，<code>HEAD</code>表示当前版本，<code>HEAD^^</code> 表示上上个版本，也可以用类似于 <code>HEAD~3</code> 来表示要回退到哪一个版本</p>
</li>
<li><p><code>$ git reset --hard 3628164</code> : 后面的数字是版本号，此方法可以随意跳转</p>
</li>
<li><p><code>$ git push -f</code> : 强制推送到远程分支</p>
<ul>
<li>注意：本地分支回滚后，版本将落后远程分支，必须使用强制推送覆盖远程分支，否则无法推送到远程分支</li>
</ul>
</li>
<li><p><code>$ git reflog</code> : 记录所有操作，可以通过此查询版本号</p>
</li>
</ul>
<h3 id="checkout"><a href="#checkout" class="headerlink" title="checkout"></a>checkout</h3><blockquote>
<p><code>$ git checkout -- .</code> : 将当前版本库中的内容替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”</p>
</blockquote>
<ul>
<li><p><code>$ git checkout -- file</code> : 丢弃工作区中的修改，恢复某个文件到当前版本库中的状态</p>
</li>
<li><p><code>$ git reset HEAD file &amp;&amp; git checkout -- file</code> : 将已经添加到暂存区的文件撤销，并恢复到当前版本库中的状态</p>
</li>
</ul>
<h2 id="stash"><a href="#stash" class="headerlink" title="stash"></a>stash</h2><ul>
<li><p><code>$ git stash</code> : 将当前工作区修改文件“储藏”起来，然后创建新的分支，修复 bug 合并，等 BUG 修复之后恢复现场继续工作</p>
</li>
<li><p><code>$ git stash list</code> : 查看被储藏起来的项目</p>
</li>
<li><p>恢复被储藏项目的两种方法：</p>
<ul>
<li><p><code>$ git stash apply</code> : 恢复后，stash 内容并不删除，需要用 <code>$ git stash drop</code> 来删除</p>
</li>
<li><p><code>$ git stash pop</code> : 恢复的同时把 stash 内容也删除</p>
</li>
</ul>
</li>
<li><p>可以多次 stash，恢复的时候，先用 <code>git stash list</code> 查看，然后恢复指定的 stash，用命令：<code>$ git stash apply stash@{0}</code></p>
</li>
</ul>
<h2 id="clone"><a href="#clone" class="headerlink" title="clone"></a>clone</h2><ul>
<li><p><code>$ git clone &lt;url&gt;</code> : 拉取远程仓库</p>
<ul>
<li>支持 git:// (ssh), https:// 等协议</li>
</ul>
</li>
<li><p><code>$ git clone &lt;url&gt; --depth=1</code> : 仓库太大，拉取最近的一个 revision</p>
<ul>
<li><code>$ git fetch --unshallow</code> : 继续拉取历史版本</li>
</ul>
</li>
</ul>
<h2 id="push"><a href="#push" class="headerlink" title="push"></a>push</h2><ul>
<li><p><code>$ git push</code> : 远程已有 remote_branch 分支，并且已经关联本地分支 local_branch</p>
</li>
<li><p><code>$ git push -u origin/remote_branch</code> : 远程已有 remote_branch 分支但未关联本地分支 local_branch</p>
</li>
<li><p><code>$ git push origin local_branch:remote_branch</code> : 远程没有 remote_branch 分支，并且没有关联本地分支 local_branch</p>
</li>
</ul>
<h2 id="remote"><a href="#remote" class="headerlink" title="remote"></a>remote</h2><ul>
<li><p><code>$ git remote add origin &lt;url&gt;</code> : 关联远程仓库（第一次推送 加参数 <code>-u</code>）</p>
</li>
<li><p><code>$ git remote -v</code> : 查看远程库信息</p>
</li>
<li><p><code>git checkout -b branch-name origin/branch-name</code> : 拉取远程仓库分支</p>
</li>
<li><p>推送到远程分支</p>
<ol>
<li><p><code>$ git push origin branch-name</code>，如果推送失败，先用 <code>$ git pull</code> 拉取并合并</p>
</li>
<li><p>如果合并有冲突，则解决冲突，并在本地提交</p>
</li>
<li><p>没有冲突或者解决掉冲突后，再用 <code>git push origin branch-name</code> 推送就能成功！</p>
</li>
</ol>
</li>
</ul>
<p><strong>如果 <code>git pull</code> 提示 “no tracking information” , 则说明本地分支和远程分支的链接关系没有创建，用命令 <code>git branch --set-upstream branch-name origin/branch-name</code></strong></p>
<h2 id="ignore"><a href="#ignore" class="headerlink" title="ignore"></a>ignore</h2><ul>
<li><p><code>$ git add -f &lt;name&gt;</code> : <code>-f</code> 将 <code>.gitignore</code> 文件强制添加到仓库</p>
</li>
<li><p><code>$ git check-ignore</code> : 检查文件是否符合 <code>.gitignore</code> 规则</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git check-ignore -v node_modules</span><br><span class="line">.gitignore:40:node_modules/     node_modules</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h2><ul>
<li><p><code>$ rm file</code> : 删除文件</p>
</li>
<li><p><code>$ git add file</code> : 将删除文件添加到暂存区</p>
</li>
<li><p><code>$ git rm file</code> : 删除文件，并添加到暂存区</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ rm file</span><br><span class="line">$ git add file</span><br><span class="line"><span class="comment"># ===</span></span><br><span class="line">$ git rm file</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xg4.github.io/2018/09/13/css-bem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="xg4">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/09/13/css-bem/" class="post-title-link" itemprop="url">CSS - BEM</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-13 16:38:12" itemprop="dateCreated datePublished" datetime="2018-09-13T16:38:12+00:00">2018-09-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-21 12:23:32" itemprop="dateModified" datetime="2019-05-21T12:23:32+00:00">2019-05-21</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><a href="#bem-%E5%91%BD%E5%90%8D%E6%A8%A1%E5%BC%8F">BEM 命名模式</a></li>
<li><a href="#less-scss">LESS SCSS</a></li>
<li><a href="#tips">Tips</a></li>
<li><a href="#example">Example</a></li>
</ul>
<blockquote>
<p>BEM 是块（block）、元素（element）、修饰符（modifier）的简写，由 Yandex 团队提出的一种前端 CSS 命名方法论</p>
</blockquote>
<h2 id="BEM-命名模式"><a href="#BEM-命名模式" class="headerlink" title="BEM 命名模式"></a>BEM 命名模式</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.block</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.block__element</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.block--modifier</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>每一个块(block)名应该有一个命名空间（前缀）</p>
</li>
<li><p>block 代表了更高级别的抽象或组件</p>
</li>
<li><p><code>block__element</code> 代表 <code>.block</code> 的后代，用于形成一个完整的 <code>.block</code> 的整体</p>
</li>
<li><p><code>block--modifier</code> 代表 <code>.block</code> 的不同状态或不同版本。<br>使用两个连字符和下划线而不是一个，是为了让你自己的块可以用单个连字符来界定。如：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.sub-block__element</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sub-block--modifier</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="LESS-SCSS"><a href="#LESS-SCSS" class="headerlink" title="LESS SCSS"></a>LESS SCSS</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">1200px</span>;</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">__body</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">__button</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-tag">--primary</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: blue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-tag">--success</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: green;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ul>
<li><p>避免 <code>.block__el1__el2</code> 的格式</p>
</li>
<li><p>在深层次嵌套的 DOM 结构下，应避免过长的样式名称定义</p>
</li>
<li><p>层级最后不要超过 4 级，不然增加阅读的理解难度</p>
</li>
</ul>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 常规写法： */</span></span><br><span class="line"><span class="selector-class">.xxx</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xxx__item</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xxx__item_current</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 嵌套写法 */</span></span><br><span class="line"><span class="selector-class">.xxx__item_current</span> <span class="selector-class">.mod-xxx__link</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 推荐： */</span></span><br><span class="line"><span class="selector-class">.xxx</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xxx__item</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xxx__item_hightlight</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xxx__product-name</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xxx__link</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xxx__ming-zi-ke-yi-hen-chang</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 嵌套写法 */</span></span><br><span class="line"><span class="selector-class">.xxx__item_current</span> &#123;</span><br><span class="line">  <span class="selector-class">.xxx__link</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 对应的HTML结构如下： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"xxx"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"xxx__item"</span>&gt;</span></span><br><span class="line">    第一项</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"xxx__product-name"</span>&gt;</span>我是名称<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"xxx__ming-zi-ke-yi-hen-chang"</span>&gt;</span></span><br><span class="line">      看类名</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"xxx__link"</span>&gt;</span>我是link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"xxx__item xxx__item_current"</span>&gt;</span></span><br><span class="line">    第二项 且 当前选择项</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"xxx__product-name"</span>&gt;</span>我是名称<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"xxx__item-link"</span>&gt;</span>我是link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"xxx__item xxx__item_hightlight"</span>&gt;</span></span><br><span class="line">    第三项 且 特殊高亮</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"xxx__product-name"</span>&gt;</span>我是名称<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"xxx__item-link"</span>&gt;</span>我是link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">xg4</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">11</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">10</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xg4</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.1"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
